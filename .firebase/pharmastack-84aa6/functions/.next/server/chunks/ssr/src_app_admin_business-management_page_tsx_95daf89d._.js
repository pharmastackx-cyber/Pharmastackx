module.exports=[92617,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(24089),e=a.i(19470),f=a.i(7946),g=a.i(9386),h=a.i(98621),i=a.i(7397),j=a.i(29297),k=a.i(36472),l=a.i(14635),m=a.i(49085),n=a.i(5721),o=a.i(22844),p=a.i(27187);let q=(a,b,c)=>{let d=a.keys[0];if(Array.isArray(b))b.forEach((b,d)=>{c((b,c)=>{d<=a.keys.length-1&&(0===d?Object.assign(b,c):b[a.up(a.keys[d])]=c)},b)});else if(b&&"object"==typeof b){let e,f;(Object.keys(b).length>a.keys.length?a.keys:(e=a.keys,f=Object.keys(b),e.filter(a=>f.includes(a)))).forEach(e=>{if(a.keys.includes(e)){let f=b[e];void 0!==f&&c((b,c)=>{d===e?Object.assign(b,c):b[a.up(e)]=c},f)}})}else("number"==typeof b||"string"==typeof b)&&c((a,b)=>{Object.assign(a,b)},b)};function r(a){return`--Grid-${a}Spacing`}function s(a){return`--Grid-parent-${a}Spacing`}let t="--Grid-columns",u="--Grid-parent-columns",v=({theme:a,ownerState:b})=>{let c={};return q(a.breakpoints,b.size,(a,b)=>{let d={};"grow"===b&&(d={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===b&&(d={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof b&&(d={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${b} / var(${u}) - (var(${u}) - ${b}) * (var(${s("column")}) / var(${u})))`}),a(c,d)}),c},w=({theme:a,ownerState:b})=>{let c={};return q(a.breakpoints,b.offset,(a,b)=>{let d={};"auto"===b&&(d={marginLeft:"auto"}),"number"==typeof b&&(d={marginLeft:0===b?"0px":`calc(100% * ${b} / var(${u}) + var(${s("column")}) * ${b} / var(${u}))`}),a(c,d)}),c},x=({theme:a,ownerState:b})=>{if(!b.container)return{};let c={[t]:12};return q(a.breakpoints,b.columns,(a,b)=>{let d=b??12;a(c,{[t]:d,"> *":{[u]:d}})}),c},y=({theme:a,ownerState:b})=>{if(!b.container)return{};let c={};return q(a.breakpoints,b.rowSpacing,(b,d)=>{let e="string"==typeof d?d:a.spacing?.(d);b(c,{[r("row")]:e,"> *":{[s("row")]:e}})}),c},z=({theme:a,ownerState:b})=>{if(!b.container)return{};let c={};return q(a.breakpoints,b.columnSpacing,(b,d)=>{let e="string"==typeof d?d:a.spacing?.(d);b(c,{[r("column")]:e,"> *":{[s("column")]:e}})}),c},A=({theme:a,ownerState:b})=>{if(!b.container)return{};let c={};return q(a.breakpoints,b.direction,(a,b)=>{a(c,{flexDirection:b})}),c},B=({ownerState:a})=>({minWidth:0,boxSizing:"border-box",...a.container&&{display:"flex",flexWrap:"wrap",...a.wrap&&"wrap"!==a.wrap&&{flexWrap:a.wrap},gap:`var(${r("row")}) var(${r("column")})`}}),C=(0,p.default)(),D=(0,l.default)("div",{name:"MuiGrid",slot:"Root"});function E(a){return(0,m.default)({props:a,name:"MuiGrid",defaultTheme:C})}var F=a.i(74443),G=a.i(33115),H=a.i(35971);let I=function(a={}){let{createStyledComponent:d=D,useThemeProps:e=E,useTheme:f=n.default,componentName:g="MuiGrid"}=a;function l(a,b,c=()=>!0){let d={};return null===a||(Array.isArray(a)?a.forEach((a,e)=>{null!==a&&c(a)&&b.keys[e]&&(d[b.keys[e]]=a)}):"object"==typeof a?Object.keys(a).forEach(b=>{let e=a[b];null!=e&&c(e)&&(d[b]=e)}):d[b.keys[0]]=a),d}let m=d(x,z,y,v,A,B,w),p=c.forwardRef(function(a,d){var n;let p,q=f(),r=e(a),s=(0,o.extendSxProp)(r);n=q.breakpoints,p=[],void 0!==s.item&&(delete s.item,p.push("item")),void 0!==s.zeroMinWidth&&(delete s.zeroMinWidth,p.push("zeroMinWidth")),n.keys.forEach(a=>{void 0!==s[a]&&(p.push(a),delete s[a])});let{className:t,children:u,columns:v=12,container:w=!1,component:x="div",direction:y="row",wrap:z="wrap",size:A={},offset:B={},spacing:C=0,rowSpacing:D=C,columnSpacing:E=C,unstable_level:F=0,...G}=s,H=l(A,q.breakpoints,a=>!1!==a),I=l(B,q.breakpoints),J=a.columns??(F?void 0:v),K=a.spacing??(F?void 0:C),L=a.rowSpacing??a.spacing??(F?void 0:D),M=a.columnSpacing??a.spacing??(F?void 0:E),N={...s,level:F,columns:J,container:w,direction:y,wrap:z,spacing:K,rowSpacing:L,columnSpacing:M,size:H,offset:I},O=((a,b)=>{let c,{container:d,direction:e,spacing:f,wrap:h,size:i}=a,l={root:["root",d&&"container","wrap"!==h&&`wrap-xs-${String(h)}`,...void 0===e?[]:"object"==typeof e?Object.entries(e).map(([a,b])=>`direction-${a}-${b}`):[`direction-xs-${String(e)}`],...(c=[],Object.entries(i).forEach(([a,b])=>{!1!==b&&void 0!==b&&c.push(`grid-${a}-${String(b)}`)}),c),...d?((a,b="xs")=>{function c(a){return void 0!==a&&("string"==typeof a&&!Number.isNaN(Number(a))||"number"==typeof a&&a>0)}if(c(a))return[`spacing-${b}-${String(a)}`];if("object"==typeof a&&!Array.isArray(a)){let b=[];return Object.entries(a).forEach(([a,d])=>{c(d)&&b.push(`spacing-${a}-${String(d)}`)}),b}return[]})(f,b.breakpoints.keys[0]):[]]};return(0,k.default)(l,a=>(0,j.default)(g,a),{})})(N,q);return(0,b.jsx)(m,{ref:d,as:x,ownerState:N,className:(0,h.default)(O.root,t),...G,children:c.Children.map(u,a=>c.isValidElement(a)&&(0,i.default)(a,["Grid"])&&w&&a.props.container?c.cloneElement(a,{unstable_level:a.props?.unstable_level??F+1}):a)})});return p.muiName="Grid",p}({createStyledComponent:(0,F.styled)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.container&&b.container]}}),componentName:"MuiGrid",useThemeProps:a=>(0,G.useDefaultProps)({props:a,name:"MuiGrid"}),useTheme:H.default});var J=a.i(40965),K=a.i(6405),L=a.i(48385),M=a.i(68386),N=a.i(43672),O=a.i(31796),P=a.i(77940),Q=a.i(10446),R=a.i(78769),R=R,S=a.i(25442),T=a.i(77092),U=a.i(67001),V=a.i(18110),W=a.i(76445),X=a.i(9846),Y=a.i(56705),Z=a.i(50944),$=a.i(36697),_=a.i(85231),aa=a.i(73885);let ab=[{id:"biz1",name:"Green Pharmacy",storeLink:"https://pharmastackx.com/stores/green-pharmacy",owner:"Dr. Ada Eze",phone:"08090000011",email:"green@pharmastackx.com",address:"12 Health Ave, Lagos",joined:"2024-12-01"},{id:"biz2",name:"City Meds",storeLink:"https://pharmastackx.com/stores/city-meds",owner:"Mr. John Okafor",phone:"08090000012",email:"citymeds@pharmastackx.com",address:"88 Main St, Abuja",joined:"2025-01-15"},{id:"biz3",name:"Wellness Hub",storeLink:"https://pharmastackx.com/stores/wellness-hub",owner:"Mrs. Bisi Bello",phone:"08090000013",email:"wellness@pharmastackx.com",address:"5 Unity Rd, Port Harcourt",joined:"2025-03-10"}],ac=[{id:"prod1",name:"Paracetamol 500mg",active:"Paracetamol",class:"Analgesic",amount:1200,business:"Green Pharmacy",location:"12 Health Ave, Lagos",image:"https://via.placeholder.com/60x60?text=Paracetamol"},{id:"prod2",name:"Amoxicillin 250mg",active:"Amoxicillin",class:"Antibiotic",amount:2500,business:"City Meds",location:"88 Main St, Abuja",image:"https://via.placeholder.com/60x60?text=Amoxicillin"},{id:"prod3",name:"Vitamin C 1000mg",active:"Ascorbic Acid",class:"Supplement",amount:900,business:"Wellness Hub",location:"5 Unity Rd, Port Harcourt",image:"https://via.placeholder.com/60x60?text=Vitamin+C"}];var ad=a.i(14607),ae=a.i(15937),af=a.i(17110),ag=a.i(35377),ah=a.i(49081);let ai=({products:a,onEdit:c,onDelete:d,onToggleActive:e})=>(0,b.jsx)(ad.TableContainer,{component:f.Paper,children:(0,b.jsxs)(S.Table,{size:"small",children:[(0,b.jsx)(V.TableHead,{children:(0,b.jsxs)(W.TableRow,{children:[(0,b.jsx)(U.TableCell,{children:"Image"}),(0,b.jsx)(U.TableCell,{children:"Product Name"}),(0,b.jsx)(U.TableCell,{children:"Active Ingredient"}),(0,b.jsx)(U.TableCell,{children:"Class"}),(0,b.jsx)(U.TableCell,{children:"Amount"}),(0,b.jsx)(U.TableCell,{children:"Business"}),(0,b.jsx)(U.TableCell,{children:"Location"}),(0,b.jsx)(U.TableCell,{align:"right",children:"Actions"})]})}),(0,b.jsx)(T.TableBody,{children:a.map(a=>(0,b.jsxs)(W.TableRow,{children:[(0,b.jsx)(U.TableCell,{children:(0,b.jsx)(af.Avatar,{src:a.image,alt:a.name,variant:"rounded"})}),(0,b.jsx)(U.TableCell,{children:a.name}),(0,b.jsx)(U.TableCell,{children:a.active}),(0,b.jsx)(U.TableCell,{children:a.class}),(0,b.jsx)(U.TableCell,{children:a.amount.toLocaleString()}),(0,b.jsx)(U.TableCell,{children:a.business}),(0,b.jsx)(U.TableCell,{children:a.location}),(0,b.jsxs)(U.TableCell,{align:"right",children:[(0,b.jsx)(ae.IconButton,{color:"primary",onClick:()=>c(a.id),size:"small",children:(0,b.jsx)(ag.default,{})}),(0,b.jsx)(ae.IconButton,{color:"error",onClick:()=>d(a.id),size:"small",children:(0,b.jsx)(ah.default,{})})]})]},a.id))})]})}),aj=[{id:"bulk1",business:"Green Pharmacy",csvName:"green-inventory-2025-11-01.csv",timestamp:"2025-11-01T10:15:00Z",csvUrl:"https://pharmastackx.com/csvs/green-inventory-2025-11-01.csv"},{id:"bulk2",business:"City Meds",csvName:"citymeds-bulk-2025-10-28.csv",timestamp:"2025-10-28T14:30:00Z",csvUrl:"https://pharmastackx.com/csvs/citymeds-bulk-2025-10-28.csv"},{id:"bulk3",business:"Wellness Hub",csvName:"wellness-bulk-2025-09-15.csv",timestamp:"2025-09-15T09:00:00Z",csvUrl:"https://pharmastackx.com/csvs/wellness-bulk-2025-09-15.csv"}];var ak=a.i(77311);function al({bulks:a,onEdit:c,onDelete:d}){let e=[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",width:150},{field:"status",headerName:"Status",width:150},{field:"created_at",headerName:"Date",width:150},{field:"actions",headerName:"Actions",width:150,renderCell:a=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ae.IconButton,{"aria-label":"edit",onClick:()=>c(a.row.id),children:(0,b.jsx)(ag.default,{})}),(0,b.jsx)(ae.IconButton,{"aria-label":"delete",onClick:()=>d(a.row.id),children:(0,b.jsx)(ah.default,{})})]})}];return(0,b.jsx)("div",{style:{height:400,width:"100%"},children:(0,b.jsx)(ak.DataGrid,{rows:a,columns:e,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],checkboxSelection:!0})})}function am(a){let{children:c,value:e,index:f,...g}=a;return(0,b.jsx)("div",{role:"tabpanel",hidden:e!==f,id:`business-tabpanel-${f}`,"aria-labelledby":`business-tab-${f}`,...g,children:e===f&&(0,b.jsx)(d.Box,{sx:{pt:2},children:c})})}function an(){let a=(0,Z.useRouter)(),[h,i]=(0,c.useState)(ab.map(a=>({...a,active:!0}))),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(ac),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({}),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(aj),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)({}),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(!1),[H,ad]=(0,c.useState)(null),ae=a=>{let{name:b,value:c}=a.target;A(a=>({...a,[b]:c}))},af=()=>{C(!1),y(null),A({}),E([]),ad(null),G(!1)},ag=a=>{let{name:b,value:c}=a.target;q(a=>({...a,[b]:c}))},ah=()=>{s(!1),o(null),q({})},[ak,an]=(0,c.useState)(0),[ao,ap]=(0,c.useState)(0);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aa.default,{}),(0,b.jsxs)(d.Box,{sx:{p:4},children:[(0,b.jsx)(e.Typography,{variant:"h4",sx:{fontWeight:700,color:"#1B5E20",mb:3},children:"Business Management"}),(0,b.jsxs)(J.Tabs,{value:ak,onChange:(a,b)=>{an(b)},"aria-label":"business management tabs",sx:{mb:2},children:[(0,b.jsx)(K.Tab,{label:"All Businesses",id:"business-tab-0","aria-controls":"business-tabpanel-0"}),(0,b.jsx)(K.Tab,{label:"Manage Inventory",id:"business-tab-1","aria-controls":"business-tabpanel-1"})]}),(0,b.jsxs)(am,{value:ak,index:0,children:[(0,b.jsx)(Q.TextField,{placeholder:"Search businesses...",value:j,onChange:a=>k(a.target.value),fullWidth:!0,sx:{mb:3,maxWidth:400},InputProps:{startAdornment:(0,b.jsx)(Y.InputAdornment,{position:"start",children:(0,b.jsx)($.default,{})})}}),(0,b.jsx)(I,{container:!0,spacing:3,children:h.filter(a=>{let b=j.trim().toLowerCase();return!b||a.name.toLowerCase().includes(b)||a.email&&a.email.toLowerCase().includes(b)||a.phone&&a.phone.toLowerCase().includes(b)}).map((c,g)=>{let h=c.name.toLowerCase().replace(/\s+/g,"-"),j=`https://psx.ng/${h}`;return(0,b.jsx)(d.Box,{sx:{width:{xs:"100%",sm:"50%",md:"33.33%"},padding:2},children:(0,b.jsxs)(f.Paper,{onClick:()=>a.push(`/admin/business-management/${c.id}`),sx:{p:2,borderLeft:4,borderColor:c.active?"#1B5E20":"#E91E63",minHeight:260,maxHeight:260,height:260,display:"flex",flexDirection:"column",justifyContent:"space-between",textDecoration:"none",cursor:"pointer",transition:"box-shadow 0.2s","&:hover":{boxShadow:6,bgcolor:"#f5f5f5"}},elevation:3,children:[(0,b.jsx)(e.Typography,{variant:"h6",fontWeight:600,sx:{mb:1},children:c.name}),(0,b.jsxs)(e.Typography,{variant:"body2",color:"text.secondary",children:[(0,b.jsx)("b",{children:"Store Link:"})," ",j]}),(0,b.jsxs)(e.Typography,{variant:"body2",color:"text.secondary",children:[(0,b.jsx)("b",{children:"Phone:"})," ",c.phone]}),(0,b.jsxs)(e.Typography,{variant:"body2",color:"text.secondary",children:[(0,b.jsx)("b",{children:"Email:"})," ",c.email]}),(0,b.jsxs)(e.Typography,{variant:"body2",color:"text.secondary",children:[(0,b.jsx)("b",{children:"Address:"})," ",c.address]}),(0,b.jsxs)(e.Typography,{variant:"body2",color:"text.secondary",children:[(0,b.jsx)("b",{children:"Joined:"})," ",c.joined]}),(0,b.jsx)(P.Button,{variant:"contained",color:c.active?"error":"success",sx:{mt:2,fontWeight:600},onClick:a=>{a.preventDefault(),a.stopPropagation(),i(a=>a.map((a,b)=>b===g?{...a,active:!a.active}:a))},children:c.active?"Deactivate":"Activate"}),(0,b.jsx)(P.Button,{variant:"outlined",color:"primary",sx:{mt:1,fontWeight:600},onClick:a=>{a.stopPropagation(),window.open(j,"_blank")},children:"Visit Store"})]})},c.id)})})]}),(0,b.jsxs)(am,{value:ak,index:1,children:[(0,b.jsxs)(J.Tabs,{value:ao,onChange:(a,b)=>{ap(b)},"aria-label":"manage inventory tabs",sx:{mb:2},children:[(0,b.jsx)(K.Tab,{label:"Manage Products",id:"inventory-tab-0","aria-controls":"inventory-tabpanel-0"}),(0,b.jsx)(K.Tab,{label:"Manage Bulk",id:"inventory-tab-1","aria-controls":"inventory-tabpanel-1"})]}),(0,b.jsxs)(am,{value:ao,index:0,children:[(0,b.jsx)(Q.TextField,{placeholder:"Search products...",value:t||"",onChange:a=>u(a.target.value),fullWidth:!0,sx:{mb:3,maxWidth:400},InputProps:{startAdornment:(0,b.jsx)(Y.InputAdornment,{position:"start",children:(0,b.jsx)($.default,{})})}}),(0,b.jsx)(ai,{products:l.filter(a=>{let b=(t||"").trim().toLowerCase();return!b||a.name.toLowerCase().includes(b)||a.active.toLowerCase().includes(b)||a.class.toLowerCase().includes(b)||a.business.toLowerCase().includes(b)||a.location.toLowerCase().includes(b)}),onEdit:a=>{let b=l.find(b=>b.id===a);b&&(o(a),q({...b}),s(!0))},onDelete:a=>{m(b=>b.filter(b=>b.id!==a))},onToggleActive:()=>{}}),(0,b.jsxs)(L.Dialog,{open:r,onClose:ah,maxWidth:"sm",fullWidth:!0,children:[(0,b.jsx)(M.DialogTitle,{children:"Edit Product"}),(0,b.jsx)(N.DialogContent,{children:(0,b.jsxs)(g.Stack,{spacing:2,sx:{mt:1},children:[(0,b.jsx)(Q.TextField,{label:"Product Name",name:"name",value:p.name||"",onChange:ag,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Active Ingredient",name:"active",value:p.active||"",onChange:ag,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Class",name:"class",value:p.class||"",onChange:ag,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Amount",name:"amount",type:"number",value:p.amount||"",onChange:ag,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Business",name:"business",value:p.business||"",onChange:ag,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Location",name:"location",value:p.location||"",onChange:ag,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Image URL",name:"image",value:p.image||"",onChange:ag,fullWidth:!0})]})}),(0,b.jsxs)(O.DialogActions,{children:[(0,b.jsx)(P.Button,{onClick:ah,children:"Cancel"}),(0,b.jsx)(P.Button,{onClick:()=>{n&&(m(a=>a.map(a=>a.id===n?{...a,...p}:a)),s(!1),o(null),q({}))},variant:"contained",color:"primary",children:"Save"})]})]})]}),(0,b.jsxs)(am,{value:ao,index:1,children:[(0,b.jsx)(al,{bulks:v,onEdit:a=>{let b=v.find(b=>b.id===a);b&&(y(a),A({...b}),C(!0),E([]),ad(null),G(!0),_.default.parse(b.csvUrl,{download:!0,complete:a=>{E(a.data),G(!1)},error:a=>{ad("Failed to load CSV preview"),G(!1)}}))},onDelete:a=>{w(b=>b.filter(b=>b.id!==a))}}),(0,b.jsxs)(L.Dialog,{open:B,onClose:af,maxWidth:"md",fullWidth:!0,children:[(0,b.jsx)(M.DialogTitle,{children:"Edit Bulk Upload"}),(0,b.jsxs)(N.DialogContent,{children:[(0,b.jsxs)(g.Stack,{spacing:2,sx:{mt:1,mb:2},children:[(0,b.jsx)(Q.TextField,{label:"CSV Name",name:"csvName",value:z.csvName||"",onChange:ae,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Business",name:"business",value:z.business||"",onChange:ae,fullWidth:!0}),(0,b.jsx)(Q.TextField,{label:"Timestamp",name:"timestamp",value:z.timestamp||"",onChange:ae,fullWidth:!0}),(0,b.jsx)(X.InputLabel,{shrink:!0,htmlFor:"csv-upload-input",children:"Upload CSV File"}),(0,b.jsx)("input",{id:"csv-upload-input",type:"file",accept:".csv,text/csv",style:{marginBottom:16},onChange:a=>{let b=a.target.files&&a.target.files[0];b&&(E([]),ad(null),G(!0),_.default.parse(b,{complete:a=>{E(a.data),G(!1)},error:()=>{ad("Failed to load CSV preview"),G(!1)}}),A(a=>({...a,csvName:b.name})))}})]}),(0,b.jsx)(e.Typography,{variant:"subtitle1",sx:{mb:1},children:"CSV Preview"}),F&&(0,b.jsx)(R.default,{size:24}),H&&(0,b.jsx)(e.Typography,{color:"error",children:H}),!F&&!H&&D.length>0&&(0,b.jsxs)(S.Table,{size:"small",sx:{mb:2},children:[(0,b.jsx)(V.TableHead,{children:(0,b.jsx)(W.TableRow,{children:D[0].map((a,c)=>(0,b.jsx)(U.TableCell,{children:a},c))})}),(0,b.jsx)(T.TableBody,{children:D.slice(1).map((a,c)=>(0,b.jsx)(W.TableRow,{children:a.map((a,d)=>(0,b.jsx)(U.TableCell,{children:(0,b.jsx)(Q.TextField,{value:a,variant:"standard",onChange:a=>{let b=a.target.value;E(a=>{let e=a.map(a=>[...a]);return e[c+1][d]=b,e})},fullWidth:!0})},d))},c))})]})]}),(0,b.jsxs)(O.DialogActions,{children:[(0,b.jsx)(P.Button,{onClick:af,children:"Cancel"}),(0,b.jsx)(P.Button,{onClick:()=>{x&&(w(a=>a.map(a=>a.id===x?{...a,...z}:a)),C(!1),y(null),A({}))},variant:"contained",color:"primary",children:"Save"})]})]})]})]})]})]})}a.s(["default",()=>an],92617)}];

//# sourceMappingURL=src_app_admin_business-management_page_tsx_95daf89d._.js.map