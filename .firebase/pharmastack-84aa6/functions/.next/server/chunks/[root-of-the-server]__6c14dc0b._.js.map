{"version":3,"sources":["turbopack:///[project]/src/lib/mongoConnect.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst MONGO_URI = 'mongodb+srv://pharmastakx_db_user:pharmastackx007@cluster0.tpkohgb.mongodb.net/?appName=Cluster0';\n\nif (!MONGO_URI) {\n  throw new Error('Please define the MONGO_URI environment variable');\n}\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nexport async function dbConnect() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n  if (!cached.promise) {\n    cached.promise = mongoose.connect(MONGO_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    }).then((mongoose) => mongoose);\n  }\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n"],"names":[],"mappings":"+uCAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAQA,IAAI,EAAS,EAAA,CAAA,CAAO,GAAP,KAAe,CAMrB,eAAe,WAChB,EAAO,IAAI,EAAE,CAGb,AAAC,EAAO,OAAO,EAAE,CACnB,EAAO,OAAO,CAAG,EAAA,OAAQ,CAAC,OAAO,CAjBnB,AAiBoB,mGAAW,CAC3C,iBAAiB,EACjB,oBAAoB,CACtB,GAAG,IAAI,CAAE,AAAD,GAAc,EAAA,EAExB,EAAO,IAAI,CAAG,MAAM,EAAO,OAAO,EARzB,EAAO,IAAI,AAUtB,CAhBI,AAAC,IACH,EAAS,EADE,AACF,CAAA,CAAO,GAAP,KAAe,CAAG,CAAE,KAAM,KAAM,QAAS,KAAK"}