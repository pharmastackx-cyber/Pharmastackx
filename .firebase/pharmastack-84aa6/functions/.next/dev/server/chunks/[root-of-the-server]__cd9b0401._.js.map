{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Pharmastackx/src/lib/mongoConnect.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst MONGO_URI = 'mongodb+srv://pharmastakx_db_user:pharmastackx007@cluster0.tpkohgb.mongodb.net/?appName=Cluster0';\n\nif (!MONGO_URI) {\n  throw new Error('Please define the MONGO_URI environment variable');\n}\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nexport async function dbConnect() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n  if (!cached.promise) {\n    cached.promise = mongoose.connect(MONGO_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    }).then((mongoose) => mongoose);\n  }\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;AAElB;;AAIA,IAAI,SAAS,yDAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEO,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IACA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,WAAW;YAC3C,iBAAiB;YACjB,oBAAoB;QACtB,GAAG,IAAI,CAAC,CAAC,WAAa;IACxB;IACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Pharmastackx/src/models/User.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  username: { type: String, required: true },\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  userType: {\n    type: String,\n    enum: ['admin', 'customer', 'pharmacy', 'clinic', 'vendor', 'agent'],\n    required: true\n  },\n  businessName: { type: String },\n  slug: { type: String, unique: true, sparse: true },\n  businessAddress: { type: String },\n  state: { type: String },\n  city: { type: String },\n  phoneNumber: { type: String },\n  createdAt: { type: Date, default: Date.now }\n});\n\nexport default mongoose.models.User || mongoose.model('User', userSchema);\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,UAAU;QACR,MAAM;QACN,MAAM;YAAC;YAAS;YAAY;YAAY;YAAU;YAAU;SAAQ;QACpE,UAAU;IACZ;IACA,cAAc;QAAE,MAAM;IAAO;IAC7B,MAAM;QAAE,MAAM;QAAQ,QAAQ;QAAM,QAAQ;IAAK;IACjD,iBAAiB;QAAE,MAAM;IAAO;IAChC,OAAO;QAAE,MAAM;IAAO;IACtB,MAAM;QAAE,MAAM;IAAO;IACrB,aAAa;QAAE,MAAM;IAAO;IAC5B,WAAW;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;AAC7C;uCAEe,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Pharmastackx/src/app/api/auth/login/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nimport { dbConnect } from '@/lib/mongoConnect';\nimport User from '@/models/User';\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'changeme';\n\nexport async function POST(req) {\n  await dbConnect();\n  const { email, password } = await req.json();\n\n  if (!email || !password) {\n    return NextResponse.json({ error: 'Email and password are required.' }, { status: 400 });\n  }\n\n  const user = await User.findOne({ email });\n  if (!user) {\n    return NextResponse.json({ error: 'Invalid credentials.' }, { status: 401 });\n  }\n\n  const isMatch = await bcrypt.compare(password, user.password);\n  if (!isMatch) {\n    return NextResponse.json({ error: 'Invalid credentials.' }, { status: 401 });\n  }\n\n  const token = jwt.sign(\n    { userId: user._id, userType: user.userType, email: user.email },\n    JWT_SECRET,\n    { expiresIn: '7d' }\n  );\n\n  return NextResponse.json({ token, user: { name: user.name, email: user.email, userType: user.userType } });\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAEtC,eAAe,KAAK,GAAG;IAC5B,MAAM,IAAA,yIAAS;IACf,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAE1C,IAAI,CAAC,SAAS,CAAC,UAAU;QACvB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmC,GAAG;YAAE,QAAQ;QAAI;IACxF;IAEA,MAAM,OAAO,MAAM,kIAAI,CAAC,OAAO,CAAC;QAAE;IAAM;IACxC,IAAI,CAAC,MAAM;QACT,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;IAEA,MAAM,UAAU,MAAM,8IAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;IAC5D,IAAI,CAAC,SAAS;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;IAEA,MAAM,QAAQ,kJAAG,CAAC,IAAI,CACpB;QAAE,QAAQ,KAAK,GAAG;QAAE,UAAU,KAAK,QAAQ;QAAE,OAAO,KAAK,KAAK;IAAC,GAC/D,YACA;QAAE,WAAW;IAAK;IAGpB,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE;QAAO,MAAM;YAAE,MAAM,KAAK,IAAI;YAAE,OAAO,KAAK,KAAK;YAAE,UAAU,KAAK,QAAQ;QAAC;IAAE;AAC1G","debugId":null}}]
}